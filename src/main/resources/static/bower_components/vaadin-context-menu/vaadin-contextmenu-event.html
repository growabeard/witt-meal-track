<html><head><link rel="import" href="../polymer/polymer.html">

<script>!function(){Polymer.Gestures.register({name:"vaadin-contextmenu",deps:["touchstart","touchmove","tap","contextmenu"],flow:{start:["touchstart","contextmenu"],end:["tap","contextmenu"]},emits:["vaadin-contextmenu"],info:{sourceEvent:null,_ios:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},reset:function(){this.info.sourceEvent=null,this.info.fired=!1,this.info.touchJob&&this.info.touchJob.stop(),this.info.touchJob=null,this.info.touchStartCoords=null},touchstart:function(t){this.info.sourceEvent=t,this.info.touchStartCoords={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY},this.info.touchJob=Polymer.Debounce(this.info.touchJob,function(){var o=Polymer.Gestures.findOriginalTarget(t),n=t.changedTouches[0];this.info._ios&&!t.shiftKey&&this.fire(o,n.clientX,n.clientY)}.bind(this),500)},touchmove:function(t){var o=this.info.touchStartCoords;(Math.abs(o.x-t.changedTouches[0].clientX)>15||Math.abs(o.y-t.changedTouches[0].clientY)>15)&&this.info.touchJob.stop()},contextmenu:function(t){t.shiftKey||(this.info.sourceEvent=t,this.fire(t.target,t.clientX,t.clientY))},tap:function(t){this.info.touchJob&&this.info.touchJob.stop(),this.info.fired&&(t.preventDefault(),t.stopPropagation())},fire:function(t,o,n){Polymer.Gestures.fire(t,"vaadin-contextmenu",{x:o,y:n,sourceEvent:this.info.sourceEvent}),this.info.fired=!0}})}();</script>
</head><body></body></html>